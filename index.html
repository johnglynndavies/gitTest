<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
</head>
<body>
	<header>
		<h1>Testing out Git, Emmet and Myth</h1>
		<nav>
			<a href="#">Link 1</a>
			<a href="#">Page 2</a>
			<a href="#">Link 3</a>
			<a href="#">Link 4</a>
		</nav>
	</header>
	<section>
		<div class="inner">
			<article>
				<h1>Page title</h1>
				<p>Some page content</p>
				<div class="outer">
					<ul id="box2" style="left:0; top:10px;" class="inner flex">
						<li>Test</li>
						<li>two</li>
						<li>threee</li>
						<li>four</li>
						<li>five</li>
					</ul>
				</div>
				<pre>Testing out some code viewing...</pre>
			</article>
			<aside>
				<h4>Side heading</h4>
				<p>Some text</p>
			</aside>
		</div>
	</section>
	<footer>Footer text &copy; 2018 John Glynn Davies</footer>
	<script>
	window.addEventListener('load', function(){ // on page load
		
		var touchsurface = document.getElementById('box2'),
	        startX,
	        startY,
	        dist,
	        threshold = 150, //required min distance traveled to be considered swipe
	        allowedTime = 200, // maximum time allowed to travel that distance
	        elapsedTime,
	        startTime
	 
	    function handleswipe(isrightswipe){
	        if (isrightswipe)
	            touchsurface.innerHTML = 'Congrats, you\'ve made a <span style="color:red">right swipe!</span>'
	        else{
	            touchsurface.innerHTML = 'Condition for right swipe not met yet'
	        }
	    }
	 
	    touchsurface.addEventListener('touchstart', function(e){
	        touchsurface.innerHTML = ''
	        var touchobj = e.changedTouches[0]
	        dist = 0
	        startX = touchobj.pageX
	        startY = touchobj.pageY
	        startTime = new Date().getTime() // record time when finger first makes contact with surface
	        e.preventDefault()
	    }, false)
	 
	    touchsurface.addEventListener('touchmove', function(e){
	        e.preventDefault() // prevent scrolling when inside DIV
	    }, false)
	 
	    touchsurface.addEventListener('touchend', function(e){
	        var touchobj = e.changedTouches[0]
	        dist = touchobj.pageX - startX // get total dist traveled by finger while in contact with surface
	        elapsedTime = new Date().getTime() - startTime // get time elapsed
	        // check that elapsed time is within specified, horizontal dist traveled >= threshold, and vertical dist traveled <= 100
	        var swiperightBol = (elapsedTime <= allowedTime && dist >= threshold && Math.abs(touchobj.pageY - startY) <= 100)
	        handleswipe(swiperightBol)
	        e.preventDefault()
	    }, false)
		 
	}, false);

	</script>
</body>
</html>