<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
</head>
<body>
	<header>
		<h1>Testing out Git, Emmet and Myth</h1>
		<nav>
			<a href="#">Link 1</a>
			<a href="#">Page 2</a>
			<a href="#">Link 3</a>
			<a href="#">Link 4</a>
		</nav>
	</header>
	<section>
		<div class="inner">
			<article>
				<h1>Page title</h1>
				<p>Some page content</p>
				<div class="outer">
					<ul id="box2" style="left:0; top:10px;" class="inner flex">
						<li>Test</li>
						<li>two</li>
						<li>threee</li>
						<li>four</li>
						<li>five</li>
					</ul>
				</div>
				<pre>Testing out some code viewing...</pre>
			</article>
			<aside>
				<h4>Side heading</h4>
				<p>Some text</p>
			</aside>
		</div>
	</section>
	<footer>Footer text &copy; 2018 John Glynn Davies</footer>
	<script>

	    function swipedetect(el, callback){
  
		    var touchsurface = el,
		    swipedir,
		    startX,
		    startY,
		    distX,
		    distY,
		    threshold = 150, //required min distance traveled to be considered swipe
		    restraint = 100, // maximum distance allowed at the same time in perpendicular direction
		    allowedTime = 300, // maximum time allowed to travel that distance
		    elapsedTime,
		    startTime,
		    handleswipe = callback || function(swipedir){}
		  
		    touchsurface.addEventListener('touchstart', function(e){
		        var touchobj = e.changedTouches[0]
		        swipedir = 'none'
		        dist = 0
		        startX = touchobj.pageX
		        startY = touchobj.pageY
		        startTime = new Date().getTime() // record time when finger first makes contact with surface
		        e.preventDefault()
		    }, false)
		  
		    touchsurface.addEventListener('touchmove', function(e){
		        e.preventDefault() // prevent scrolling when inside DIV
		    }, false)
		  
		    touchsurface.addEventListener('touchend', function(e){
		        var touchobj = e.changedTouches[0]
		        distX = touchobj.pageX - startX // get horizontal dist traveled by finger while in contact with surface
		        distY = touchobj.pageY - startY // get vertical dist traveled by finger while in contact with surface
		        elapsedTime = new Date().getTime() - startTime // get time elapsed
		        if (elapsedTime <= allowedTime){ // first condition for awipe met
		            if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint){ // 2nd condition for horizontal swipe met
		                swipedir = (distX < 0)? 'left' : 'right' // if dist traveled is negative, it indicates left swipe
		            }
		            else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint){ // 2nd condition for vertical swipe met
		                swipedir = (distY < 0)? 'up' : 'down' // if dist traveled is negative, it indicates up swipe
		            }
		        }
		        handleswipe(swipedir)
		        e.preventDefault()
		    }, false)
		}
		  
		//USAGE:
		/*
		var el = document.getElementById('someel')
		swipedetect(el, function(swipedir){
		    swipedir contains either "none", "left", "right", "top", or "down"
		    if (swipedir =='left')
		        alert('You just swiped left!')
		})
		*/
		 
		window.addEventListener('load', function(){
		    var el = document.getElementById('box2')
		    swipedetect(el, function(swipedir){
		        if (swipedir == 'left'){
		            alert('You swiped left')
		        } else if(swipedir == 'right') {
		        	alert('You swiped right')
		        } else {
		        	alert('not sure!');
		        }
		    })
		}, false)



	</script>
</body>
</html>